<section class="wrapper wrapper-content animated fadeInRight" ng-controller="clientErrorCtrl">
	<div class="tabs-container">
		<div class="row table-options m-b-sm">
			<div class="col-md-4  option-item col-md-offset-4">
				<div class="selector pull-right">
					<select ng-model="type_id" ng-options="item.id as item.name for item in errorList" ng-change="list.render()"></select>
				</div>
			</div>
			<div class="col-md-4  option-item ">
				<div class="input-group">
					<span class="input-group-addon font-16"><i class="fa fa-calendar"></i></span>
					<input class="form-control font-12 bg-white" type="text" date-range-picker options="dateOption" ng-model="dateRange" placeholder="可选择时间查询" readonly>
					<span class="input-group-btn">
						<button class="btn btn-primary" type="submit" ng-click="list.search()" ><i class="fa fa-search"></i></button>
					</span>
				</div>
			</div>
		</div>
		<tabset>
			<tab heading="待处理" ng-click="list.switch(0)">
				<div class="tab-bd">
					<div class="table-responsive">
						<table class="table table-striped table-hover table-center">
				        	<thead>
				        		<tr>
				        			<th>设备ID</th>
				        			<th>设备编号</th>
				        			<th>车主名称</th>
				        			<th>故障类型</th>
				        			<th>故障描述</th>
				        			<th>报障时间</th>
				        			<th>操作</th>
				        		</tr>
				        	</thead>
				        	<tbody>
				        		<tr ng-repeat="item in listData track by $index">
				        			<td>{{item.client_id }}</td>
				        			<td>{{item.client_sn}}</td>
				        			<td>{{item.merchant_name}}</td>
				        			<td>{{item.type_name}}</td>
				        			<td>{{item.remark}}</td>
				        			<td>{{item.created_at}}</td>
				        			<td>
				        				<button  class="btn btn-sm btn-white m-xs" type="button" ng-click="list.handle($index)" tooltip-placement="left" tooltip="处理"><i class="fa fa-lg fa-vimeo-square"></i></button>
				        			</td>
				        		</tr>
				        	</tbody>
				        </table>
					</div>
				</div>
			</tab>
			<tab heading="已处理" ng-click="list.switch(1)">
				<div class="tab-bd">
					<div class="table-responsive">
						<table class="table table-striped table-hover table-center">
				        	<thead>
				        		<tr>
				        			<th>设备ID</th>
				        			<th>设备编号</th>
				        			<th>车主名称</th>
				        			<th>故障类型</th>
				        			<th>故障描述</th>
				        			<th>回复</th>
				        			<th>报障时间</th>
				        			<th>处理时间</th>
				        		</tr>
				        	</thead>
				        	<tbody>
				        		<tr ng-repeat="item in listData track by $index">
				        			<td>{{item.client_id }}</td>
				        			<td>{{item.client_sn}}</td>
				        			<td>{{item.merchant_name}}</td>
				        			<td>{{item.type_name}}</td>
				        			<td>{{item.remark}}</td>
				        			<td>{{item.reply}}</td>
				        			<td>{{item.created_at}}</td>
				        			<td>{{item.updated_at}}</td>
				        		</tr>
				        	</tbody>
				        </table>
					</div>
				</div>
			</tab>
		</tabset>
		<div class="tabs-ft">
			<div ng-if="!sum" class="tabs-ft-tips"></div>
			<div class="tabs-pagination">
				<pagination class="tabs-pagination-switch pagination-sm" ng-model="page" total-items="sum" items-per-page="len" max-size="max" boundary-links="true" first-text="首页" last-text="尾页" previous-text="上一页" next-text="下一页" ng-change="list.render(page)"></pagination>
				<div class="tabs-pagination-sum">总数：{{sum}}</div>
			</div>
		</div>
	</div>
</section>